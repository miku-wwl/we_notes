数据量达到多少的时候，要开始分库分表。昨天一个工作了6年的同学去某互联网大厂面试，遇到这样一个场景问题，有一张200万数据量的会员表，每个会员都有一个长短不一的到期时间，先想在快到期之前啊去发送邮件去通知续费，那该怎么去实现呢这个问题的解决思路有很多，另外我把网签的内容都打包在了Java面试指南中，里面包含了35万字的面试文档，200份精选简历模板以及Java架构师学习路线图，对于这一类的场景问题，我建议大家不要急着去回答，而是先冷静下来，想清楚面试官希望通过这个问题去了解你哪一方面的能力，以及这个问题里面有哪些陷阱。特别要注意一个点，一定要理解清楚面试官的问题，如果没有听懂可以向他确认一遍。很显然这个问题里面有几个关键词，一两百万数据意味着数据量比较大，二每个会员都有过期时间，需要能够快速筛选出快过期的会员。很显然如果直接通过select语句去筛选，就很容易掉入坑里了，因为这里会存在一个性能问题。那接下来我们看一下相对比较合理的回答，关于这个问题呢有很多解决方法，第一种系统不主动人群，而是等用户登录系统以后触发一次检查，如果发现会员过期的时间小于设定的阈值，就触发一次弹窗提醒或者邮件提醒，这种方式规避了轮巡的问题，不会对数据库和后端应用程序造成任何压力，但缺点也比较明显。
	如果用户一直不登录，就一直无法实现会员的过期，并且也无法提前去根据运营策略来发送邮件或者续期的提醒。第二种我们可以直接使用搜索引擎，比如Zora或者elastic search，把会员表里面的会员ID和会员过期时间存储一份到搜索引擎里面，搜索引擎的优势在于大数据量的快速检索，并且具有高可扩展性和高可靠性，非常适合大规模数据的处理。第三种可以直接使用reds来实现。用户开通会员以后，在race里面存储这个会员的ID以及设置这个 ID的过期时间，然后可以使用radius里面的过期提醒功能，把这样一个配置项做一个修改，当race里面的key过期以后，会触发一个key的过期事件，我们可以在应用程序里面去监听这个事件来进行处理。第四种，可以直接使用mq里面提供的延迟队列，当用户开通会员以后，直接计算这个会员的过期时间，然后发送一个延迟消息在mq里面，一旦消息达到过去时间，消费者就可以消费这样一个消息来触发货源过去的一个提醒。
	以上就是我的一些回答思路，如果大家有更好的回答，欢迎在我的评论区给我留言。